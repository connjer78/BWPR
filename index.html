<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trello Power-Up</title>
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        #feedback {
            margin-top: 20px;
            color: green;
        }
    </style>
</head>
<body>
    <h1>Create Sprint Cards</h1>
    <div id="feedback"></div> <!-- Feedback div for messages -->

    <script>
        // Initialize the Trello Power-Up
        TrelloPowerUp.initialize({
            'card-buttons': function(t, options) {
                return [{
                    icon: 'https://connjer78.github.io/BWPR/assets/rocketship.PNG', // Your icon URL
                    text: 'Sprint This Bitch!',
                    callback: function(t) {
                        // Show feedback to the user
                        alert("Creating sprint cards...");
                        document.getElementById('feedback').innerText = "Creating sprint cards...";

                        // Card creation process
                        const cardData = {
                            name: 'New Sprint Card',
                            idList: '66e9ca5e0e5d1635fdb8388d', // Your list ID
                        };

                        // Post the card data to Trello
                        return t.post('cards', cardData)
                            .then(function(response) {
                                // Show success feedback
                                alert("Sprint cards created successfully!");
                                document.getElementById('feedback').innerText = "Sprint cards created successfully!";
                            })
                            .catch(function(error) {
                                // Show error feedback
                                alert("Error creating sprint cards: " + error.message);
                                document.getElementById('feedback').innerText = "Error creating sprint cards: " + error.message;
                            });
                    }
                }];
            }
        });
    </script>
</body>
</html>
